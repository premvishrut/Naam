<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Naam Jap Counter</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Laila:wght@700&display=swap" rel="stylesheet"/>

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#fb923c" />

  <!-- App Icon -->
  <link rel="icon" href="icon-192.png" type="image/png"/>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      -webkit-tap-highlight-color: transparent;
    }
    .naam-font {
      font-family: 'Laila', sans-serif;
    }
    #naamInput:focus {
      outline: none;
      box-shadow: none;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-orange-100 via-amber-100 to-yellow-100 min-h-screen flex items-center justify-center p-4">

  <!-- Main Card -->
  <div class="w-full max-w-sm bg-white/70 backdrop-blur-sm rounded-3xl shadow-2xl shadow-orange-200/50 p-6 text-center space-y-6 transform transition-transform duration-500">
    
    <!-- Emoji Emotion -->
    <div id="emotionDisplay" class="text-7xl transition-transform duration-500 ease-in-out"></div>

    <!-- Naam Input -->
    <div>
      <input 
        id="naamInput"
        type="text"
        value="à¤°à¤¾à¤®"
        class="naam-font text-5xl font-bold text-center bg-transparent w-full text-orange-800 focus:outline-none"
      />
    </div>

    <!-- Count Display -->
    <div id="countDisplay" class="text-8xl font-black text-slate-700 tracking-tight" style="font-feature-settings: 'tnum';"></div>

    <!-- Jap Button -->
    <div class="pt-4">
      <button id="japButton" class="w-full py-4 text-2xl font-bold bg-orange-500 text-white rounded-full shadow-lg shadow-orange-500/50 hover:bg-orange-600 focus:outline-none focus:ring-4 focus:ring-orange-300 transform active:scale-95 transition-all duration-150 ease-in-out">
        Jap
      </button>
    </div>

    <!-- Reset Button -->
    <div>
      <button id="resetButton" class="text-sm font-medium text-gray-500 hover:text-orange-600 transition-colors">
        Reset Count
      </button>
    </div>
  </div>

  <!-- JS -->
  <script>
    const countDisplay = document.getElementById('countDisplay');
    const japButton = document.getElementById('japButton');
    const resetButton = document.getElementById('resetButton');
    const emotionDisplay = document.getElementById('emotionDisplay');
    const naamInput = document.getElementById('naamInput');

    let count = 0;

    // Load from storage
    function initializeApp() {
      count = parseInt(localStorage.getItem('naamJapCount')) || 0;
      naamInput.value = localStorage.getItem('naamJapNaam') || "à¤°à¤¾à¤®";
      updateCountDisplay();
      updateEmotion();
    }

    function updateCountDisplay() {
      countDisplay.innerText = count;
      localStorage.setItem('naamJapCount', count);
    }

    function updateEmotion() {
      let emoji = 'ðŸ™';
      if (count > 0 && count <= 10) emoji = 'ðŸ˜Š';
      else if (count > 10 && count <= 30) emoji = 'ðŸ¥°';
      else if (count > 30 && count <= 70) emoji = 'ðŸ˜Œ';
      else if (count > 70 && count <= 108) emoji = 'âœ¨';
      else if (count > 108) emoji = 'ðŸ˜‡';

      if (emotionDisplay.innerText !== emoji) {
        emotionDisplay.classList.add('scale-0');
        setTimeout(() => {
          emotionDisplay.innerText = emoji;
          emotionDisplay.classList.remove('scale-0');
        }, 200);
      }

      // Optional celebration
      if (count === 108) {
        alert("ðŸŽ‰ à¤¬à¤§à¤¾à¤ˆ à¤¹à¥‹! à¤†à¤ªà¤¨à¥‡ 108 à¤¬à¤¾à¤° à¤¨à¤¾à¤® à¤œà¤ªà¤¾ à¤¹à¥ˆà¥¤");
      }
    }

    japButton.addEventListener('click', () => {
      count++;
      updateCountDisplay();
      updateEmotion();
    });

    resetButton.addEventListener('click', () => {
      if (confirm("à¤•à¥à¤¯à¤¾ à¤†à¤ª à¤µà¤¾à¤•à¤ˆ à¤—à¤¿à¤¨à¤¤à¥€ à¤°à¥€à¤¸à¥‡à¤Ÿ à¤•à¤°à¤¨à¤¾ à¤šà¤¾à¤¹à¤¤à¥‡ à¤¹à¥ˆà¤‚?")) {
        count = 0;
        updateCountDisplay();
        updateEmotion();
      }
    });

    naamInput.addEventListener('input', () => {
      localStorage.setItem('naamJapNaam', naamInput.value);
    });

    initializeApp();
  </script>

</body>
</html>
